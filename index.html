<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¸Ù</title>

<style>
  body {
    font-family: "Cairo", sans-serif;
    background: #e9eef6;
    padding: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }

  .container {
    width: 100%;
    max-width: 420px;
    background: rgba(255,255,255,0.8);
    padding: 25px;
    border-radius: 25px;
    box-shadow: 10px 10px 28px #b8c0d3, -10px -10px 28px #ffffff;
    animation: fade 0.4s ease;
  }

  @keyframes fade {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  h2 {
    text-align: center;
    margin-bottom: 20px;
    color: #2a2a2a;
    font-size: 24px;
  }

  .input-group {
    margin-bottom: 20px;
  }

  label {
    font-size: 15px;
    color: #333;
    margin-bottom: 8px;
    display: block;
  }

  input {
    width: 100%;
    padding: 14px;
    border-radius: 15px;
    border: none;
    background: #f0f4fa;
    box-shadow: inset 3px 3px 7px #c0c8d7, inset -3px -3px 7px #ffffff;
    font-size: 16px;
    outline: none;
  }

  button {
    width: 100%;
    background: #0066ff;
    border: none;
    padding: 14px;
    border-radius: 15px;
    color: white;
    font-weight: bold;
    font-size: 17px;
    cursor: pointer;
    box-shadow: 3px 3px 10px #b8c0d3;
    transition: 0.3s;
  }

  button:hover {
    background: #0052cc;
    transform: scale(1.02);
  }

  .result {
    display: none;
    margin-top: 25px;
    padding: 20px;
    border-radius: 20px;
    background: #ffffffd9;
    box-shadow: 5px 5px 15px #b8c0d3, -5px -5px 15px #ffffff;
    animation: fade 0.4s ease;
  }

  .item {
    padding: 10px 0;
    border-bottom: 1px solid #e2e6ee;
    font-size: 15px;
    color: #333;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .item:last-child {
    border-bottom: none;
  }

  .icon {
    font-size: 18px;
    color: #0066ff;
  }

  .loader {
    width: 40px;
    height: 40px;
    border: 4px solid #d0d6e1;
    border-top: 4px solid #0066ff;
    border-radius: 50%;
    margin: 15px auto;
    animation: spin 0.6s linear infinite;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
</style>
</head>

<body>

<div class="container">

  <h2>Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¸Ù</h2>

  <div class="input-group">
    <label for="national_id">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙˆÙ…ÙŠ</label>
    <input id="national_id" type="text" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙˆÙ…ÙŠ">
  </div>

  <button onclick="fetchData()">Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>

  <div id="result" class="result"></div>
</div>

<script>
const APP_SCRIPT_URL =
 "https://script.google.com/macros/s/AKfycbwDm_oObx55eC-Wk3l1VLgAsm0eQZ9YDLGU0cjJnwvzzu3sptN6V4CFcavYaho8e8nBYA/exec";

async function fetchData() {
  const id = document.getElementById("national_id").value.trim();
  const result = document.getElementById("result");

  if (!id) {
    result.style.display = "block";
    result.innerHTML = "<p>Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙˆÙ…ÙŠ</p>";
    return;
  }

  result.style.display = "block";
  result.innerHTML = '<div class="loader"></div><p style="text-align:center;">Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>';

  try {
    const response = await fetch(`${APP_SCRIPT_URL}?national_id=${id}`);
    const data = await response.json();

    if (data.error) {
      result.innerHTML = `<p>${data.error}</p>`;
      return;
    }

    result.innerHTML = `
      ${createItem("ğŸ‘¤", "Ø§Ù„Ø§Ø³Ù…", data.name)}
      ${createItem("ğŸ’°", "Ø§Ù„Ø±Ø§ØªØ¨", data.salary)}
      ${createItem("ğŸ›¡ï¸", "Ø§Ù„ØªØ£Ù…ÙŠÙ†Ø§Øª", data.social_insurance)}
      ${createItem("â•", "Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ", data.extra)}
      ${createItem("ğŸ“Š", "Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©", data.attendance_ratio)}
      ${createItem("ğŸ", "Ø§Ù„Ø­ÙˆØ§ÙØ²", data.incentives)}
      ${createItem("ğŸ“…", "Ù‚ÙŠÙ…Ø© Ø£ÙŠØ§Ù… Ø§Ù„ØºÙŠØ§Ø¨", data.absence_days_value)}
      ${createItem("âš ï¸", "Ø¬Ø²Ø§Ø¡ Ø§Ù„ØºÙŠØ§Ø¨", data.absence_penalty)}
      ${createItem("ğŸ’¸", "Ø§Ù„Ø¶Ø±Ø§Ø¦Ø¨", data.total_taxes)}
      ${createItem("ğŸš—", "Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª", data.transportation)}
      ${createItem("ğŸŸ¦", "Ø¨Ø¯Ù„ Ø§Ù†ØªØ¸Ø§Ù…", data.attendance_allowance)}
      ${createItem("ğŸŸ¨", "Ø¨Ø¯Ù„ Ø¥Ø´Ø±Ø§Ù", data.supervision_allowance)}
      ${createItem("ğŸŸ©", "Ø¨Ø¯Ù„ Ø·Ø¨ÙŠØ¹Ø© Ø¹Ù…Ù„", data.work_nature_allowance)}
      ${createItem("ğŸŒ™", "Ø¨Ø¯Ù„ ÙˆØ±Ø¯ÙŠØ©", data.shift_allowance)}
      ${createItem("âš•ï¸", "ÙƒØ´Ù Ø·Ø¨ÙŠ", data.medical_check)}
      ${createItem("ğŸ§®", "Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ", data.total)}
    `;
  } catch {
    result.innerHTML = "<p>Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.</p>";
  }
}

function createItem(icon, title, value) {
  return `
    <div class="item">
      <span class="icon">${icon}</span>
      <strong>${title}:</strong> ${value}
    </div>
  `;
}
</script>

</body>
</html>
