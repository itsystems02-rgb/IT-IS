<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¸Ù</title>

<style>
  body {
    font-family: "Cairo", sans-serif;
    background: linear-gradient(180deg, #0c1b33, #112b4a);
    color: #e4e8f1;
    padding: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }

  .container {
    width: 100%;
    max-width: 420px;
    background: rgba(18, 39, 67, 0.55);
    padding: 25px;
    border-radius: 22px;
    backdrop-filter: blur(10px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.45);
    animation: fade 0.4s ease;
  }

  @keyframes fade {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  h2 {
    text-align: center;
    margin-bottom: 25px;
    color: #dce6ff;
    font-size: 23px;
  }

  label {
    font-size: 15px;
    margin-bottom: 6px;
    display: block;
    color: #d7deef;
  }

 input {
  width: 100%;
  padding: 12px 14px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.07);
  color: #fff;
  font-size: 16px;
  outline: none;
  margin-bottom: 16px;
  box-sizing: border-box;   /* Ø§Ù„Ø£Ù‡Ù… */
  box-shadow: inset 0 0 6px rgba(0,0,0,0.25);
}


  input::placeholder {
    color: #9fb1cc;
  }

  button {
    width: 100%;
    padding: 14px;
    border: none;
    border-radius: 14px;
    font-size: 17px;
    color: white;
    cursor: pointer;
    background: linear-gradient(90deg, #1f6fff, #4ea6ff);
    box-shadow: 0 5px 15px rgba(0, 102, 255, 0.3);
    transition: 0.3s;
  }

  button:hover {
    transform: scale(1.03);
    box-shadow: 0 7px 20px rgba(0, 102, 255, 0.45);
  }

  .result {
    display: none;
    margin-top: 25px;
    padding: 18px;
    border-radius: 18px;
    background: rgba(255,255,255,0.05);
    box-shadow: 0 6px 18px rgba(0,0,0,0.4);
  }

  .item {
    padding: 11px 0;
    border-bottom: 1px solid rgba(255,255,255,0.08);
    display: flex;
    align-items: center;
    gap: 8px;
    color: #e7edfa;
    font-size: 15px;
  }

  .item:last-child {
    border-bottom: none;
  }

  .icon {
    font-size: 18px;
    color: #4ea6ff;
  }

  .loader {
    width: 38px;
    height: 38px;
    border: 4px solid rgba(255,255,255,0.18);
    border-top: 4px solid #4ea6ff;
    border-radius: 50%;
    margin: 12px auto;
    animation: spin 0.7s linear infinite;
  }

  @keyframes spin {
    100% { transform: rotate(360deg); }
  }
</style>
</head>

<body>

<div class="container">

  <h2>Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¸Ù</h2>

  <label for="national_id">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙˆÙ…ÙŠ</label>
  <input id="national_id" type="text" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙˆÙ…ÙŠ">

  <button onclick="fetchData()">Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>

  <div id="result" class="result"></div>
</div>

<script>
const APP_SCRIPT_URL =
 "https://script.google.com/macros/s/AKfycbwDm_oObx55eC-Wk3l1VLgAsm0eQZ9YDLGU0cjJnwvzzu3sptN6V4CFcavYaho8e8nBYA/exec";

async function fetchData() {
  const id = document.getElementById("national_id").value.trim();
  const result = document.getElementById("result");

  if (!id) {
    result.style.display = "block";
    result.innerHTML = "<p>Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙˆÙ…ÙŠ</p>";
    return;
  }

  result.style.display = "block";
  result.innerHTML = '<div class="loader"></div><p style="text-align:center;">Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>';

  try {
    const response = await fetch(`${APP_SCRIPT_URL}?national_id=${id}`);
    const data = await response.json();

    if (data.error) {
      result.innerHTML = `<p>${data.error}</p>`;
      return;
    }

    result.innerHTML = `
      ${createItem("ğŸ‘¤", "Ø§Ù„Ø§Ø³Ù…", data.name)}
      ${createItem("ğŸ’°", "Ø§Ù„Ø±Ø§ØªØ¨", data.salary)}
      ${createItem("ğŸ›¡ï¸", "Ø§Ù„ØªØ£Ù…ÙŠÙ†Ø§Øª", data.social_insurance)}
      ${createItem("â•", "Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ", data.extra)}
      ${createItem("ğŸ“Š", "Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©", data.attendance_ratio)}
      ${createItem("ğŸ", "Ø§Ù„Ø­ÙˆØ§ÙØ²", data.incentives)}
      ${createItem("ğŸ“…", "Ø£ÙŠØ§Ù… Ø§Ù„ØºÙŠØ§Ø¨", data.absence_days_value)}
      ${createItem("âš ï¸", "Ø¬Ø²Ø§Ø¡ Ø§Ù„ØºÙŠØ§Ø¨", data.absence_penalty)}
      ${createItem("ğŸ’¸", "Ø§Ù„Ø¶Ø±Ø§Ø¦Ø¨", data.total_taxes)}
      ${createItem("ğŸš—", "Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª", data.transportation)}
      ${createItem("ğŸŸ¦", "Ø¨Ø¯Ù„ Ø§Ù†ØªØ¸Ø§Ù…", data.attendance_allowance)}
      ${createItem("ğŸŸ¨", "Ø¨Ø¯Ù„ Ø¥Ø´Ø±Ø§Ù", data.supervision_allowance)}
      ${createItem("ğŸŸ©", "Ø¨Ø¯Ù„ Ø·Ø¨ÙŠØ¹Ø© Ø¹Ù…Ù„", data.work_nature_allowance)}
      ${createItem("ğŸŒ™", "Ø¨Ø¯Ù„ ÙˆØ±Ø¯ÙŠØ©", data.shift_allowance)}
      ${createItem("âš•ï¸", "ÙƒØ´Ù Ø·Ø¨ÙŠ", data.medical_check)}
      ${createItem("ğŸ§®", "Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ", data.total)}
    `;
  } catch {
    result.innerHTML = "<p>Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.</p>";
  }
}

function createItem(icon, title, value) {
  return `
    <div class="item">
      <span class="icon">${icon}</span>
      <strong>${title}:</strong> ${value}
    </div>
  `;
}
</script>

</body>
</html>
